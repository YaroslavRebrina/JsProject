{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-11cdd44f5def1557.js","src/js/switcher.js","src/js/constants.js","src/js/favorite.js","node_modules/@parcel/runtime-js/lib/runtime-53e2f3426ba973fd.js","src/js/obj-normalize/index.js","src/js/card/index.js","node_modules/@parcel/runtime-js/lib/runtime-533abf5012e4da65.js","src/js/pagination/paginationByPopular.js","src/js/cards-service.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"5ZPII\\\":\\\"favorite.d164f92e.js\\\",\\\"ku5PZ\\\":\\\"tablet.fbc49068.png\\\",\\\"cdK6d\\\":\\\"icons.9b44f38f.svg\\\"}\"));","const refs = {\n  themeSwitcherEl: document.querySelector('.switch-checkbox'),\n  bodyEl: document.querySelector('body'),\n  themeContainerEl: document.querySelector('.header__theme-select'),\n  logoEl: document.querySelector('.header-nav__logo-link'),\n  headerLinksEl: document.querySelectorAll('.header-nav__link'),\n  headerInputEl: document.querySelector('.header-input'),\n  headerInputIconEl: document.querySelector('.header-input__icon'),\n  switcherLightEl: document.querySelector('.header-checkbox__icon-light'),\n  switcherDarkEl: document.querySelector('.header-checkbox__icon-dark'),\n  switchTextlightEl: document.querySelector('.header__theme-select-light--on'),\n  switchTextDarktEl: document.querySelector('.header__theme-select-dark--off'),\n};\n\nconst themeKey = 'theme';\n\n// if(localStorage.getItem(themeKey) === 'dark'){\n//     refs.themeSwitcherEl.cheсked = true\n//     setDarkTheme()\n// }\n\n// console.dir(refs.headerInputEl);\n\nrefs.themeSwitcherEl.addEventListener('change', onChange);\n\nfunction onChange() {\n  refs.bodyEl.classList.toggle('dark-mode');\n  refs.logoEl.classList.toggle('light-text');\n  refs.headerLinksEl.forEach(linkEl => linkEl.classList.toggle('light-text'));\n  refs.headerInputEl.classList.toggle('header-input--dark');\n\n  localStorage.setItem(\n    themeKey,\n    refs.bodyEl.classList.contains('dark-mode') ? 'dark' : 'light'\n  );\n}\n\nconst savedTheme = localStorage.getItem(themeKey)\n\nif (savedTheme === 'dark') {\n    refs.themeSwitcherEl.checked = true;\n    refs.bodyEl.classList.add('dark-mode');\n    refs.logoEl.classList.add('light-text');\n    refs.headerLinksEl.forEach(linkEl => linkEl.classList.add('light-text'));\n    refs.headerInputEl.classList.add('header-input--dark');\n  }\n\n// function setDarkTheme() {\n//   refs.bodyEl.classList.add('dark-mode');\n//   refs.logoEl.classList.add('light-text');\n//   refs.headerLinksEl.forEach(linkEl => linkEl.classList.add('light-text'));\n//   refs.headerInputEl.add('header-input--dark')\n// }\n\n","// favorite.js constants\n\nexport const FAVORITE_KEY = \"Favorites\"\nexport const FAVORITE_TOTAL = \"favorites-total\"\n\n\n// read.js constants\n\nconst READ_NEWS_KEY = 'readNews';","import { FAVORITE_KEY, FAVORITE_TOTAL } from './constants';\n\nconst refs = {\n  listRef: document.querySelector('.favorite__list'),\n  buttonRef: document.querySelector('.card__favorite'),\n};\nconst { listRef, buttonRef } = refs;\n\nlet favouriteNews = JSON.parse(localStorage.getItem(FAVORITE_KEY)) || [];\nlet colletionTotal = JSON.parse(localStorage.getItem(FAVORITE_TOTAL)) || 0;\n\n// favoriteMarkup(getFavorites());\n\n// {\n/* <li id=${id} class='${containerClass}__card card'>\n\n      <div class='card__container'>\n        <img class='card__img' src=\"${imageUrl}\" \n          alt=\"${imageAlt ?? abstract}\">\n        <span class='card__category'>${category}</span>\n        ${alReadyRead}\n        ${addToFavorite}\n      </div>\n\n      <h2 class='card__title'>${title}</h2>\n      <p class='card__abstract'>${abstract}</p>\n      <span class='card__date'>${date}</span>\n      <a class='card__read' href=\"${url}\">Read more</a>\n\n    </li>`; */\n// }\n\n// functions\n\n// if target = button go to closer li and inner html\n\n//add event listener to butt\n// buttonRef.addEventListener('click', addToFavourites);\n\nfunction addToFavourites(evt) {\n  evt.currentTarget.dataset.id = colletionTotal + 1;\n  evt.currentTarget.dataset.favorite = evt.target.innerHTML;\n  colletionTotal += 1;\n  console.log(1);\n  favouriteNews.push(evt.currentTarget.dataset.favorite);\n  localStorage.setItem(FAVORITE_KEY, JSON.stringify(favouriteNews));\n  localStorage.setItem(FAVORITE_TOTAL, colletionTotal);\n}\n\nfunction removeFavourite(evt) {\n  favouriteNews = favouriteNews.filter(\n    item => !item.include(evt.target.dataset.id)\n  );\n  localStorage.setItem(favouriteNews);\n  return favoriteMarkup(getFavorites());\n}\n\n//auto markup\n\nfunction getFavorites() {\n  try {\n    // const favoriteItems = localStorage.getItem(FAVORITE_KEY);\n    return JSON.parse(favouriteNews);\n  } catch (e) {\n    console.log(console.log(e.message));\n  }\n}\n\nfunction favoriteMarkup(callback) {\n  const items = callback.map(item => {}); //markup\n\n  const markup = items.join('');\n  try {\n    listRef.innerHTML = markup;\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\n//closest or stop paitaintion if target `li`\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"ku5PZ\")).toString();","//MStartsev/\n\nimport defaultImageUrl from '../../fonts/images/tablet/tablet.png';\n\nconst baseUrl = 'https://static01.nyt.com/';\nconst windowInnerWidth = document.documentElement.clientWidth; // ширина сторінки\nconst date = new Date();\nconst dateNews = `${date.getDate()}/${date.getMonth()}/${date.getFullYear()}`; // Якщо відсутня дата, беремо поточну.\nconst uriRepl = 'nyt://article/';\n\nexport const objNormalize = data => {\n  let objList = {};\n\n  try {\n    objList = data.results || data.response.docs;\n  } catch (err) {\n    console.log('Response ERROR!!!');\n  }\n\n  const list = objList.map(objItem => {\n    return objCardNormalize(objItem);\n  });\n\n  return list;\n};\n\nfunction objCardNormalize(objItem) {\n  const dataCard = {};\n\n  //ID\n  dataCard.id = objItem.uri.replace(uriRepl, '');\n\n  // Дата публікації\n  dataCard.date = (() => {\n    if (objItem.published_date) {\n      return objItem.published_date;\n    }\n\n    if (objItem.pub_date) {\n      return objItem.pub_date;\n    }\n\n    return dateNews; //Коли автор забув дату поставити)\n  })();\n\n  // Тематика/категорія\n  dataCard.category = objItem.section || objItem.section_name;\n\n  //Заголовок\n  dataCard.title = objItem.title || objItem.headline.main;\n\n  //Короткий опис новини\n  dataCard.abstract = objItem.abstract;\n\n  //нема ради, отака страшна перевірка:)\n  if (objItem.media)\n    if (objItem.media.length)\n      if (objItem.media[0]['media-metadata'])\n        if (objItem.media[0]['media-metadata'].length) {\n          //пошук оптимальної картинки\n          const objImage = searchObjImageForCard(\n            objItem.media[0]['media-metadata']\n          );\n\n          if (!/static01.nyt.com/i.test(objImage.url)) {\n            objImage.url = baseUrl + objImage.url;\n          }\n\n          // src картинки\n          dataCard.imageUrl = objImage.url;\n        } else {\n          if (objItem.multimedia)\n            if (objItem.multimedia.length) {\n              //пошук оптимальної картинки\n              const objImage = searchObjImageForCard(objItem.multimedia);\n\n              if (!/static01.nyt.com/i.test(objImage.url)) {\n                objImage.url = baseUrl + objImage.url;\n              }\n\n              // src картинки\n              dataCard.imageUrl = objImage.url;\n\n              // alt картинки\n              dataCard.imageAlt = objImage.caption;\n            } else {\n              // if(\"загубилась картинка\") return буде:)\n              dataCard.imageUrl = defaultImageUrl;\n            }\n        }\n\n  dataCard.url = objItem.url || objItem.web_url;\n\n  dataCard.isFavorite = false; //Default\n  dataCard.isRead = false; //Default\n\n  return dataCard;\n}\n\nfunction searchObjImageForCard(multimediaObj) {\n  //сортуємо картинки по розміру\n  multimediaObj.sort((a, b) => (a.width > b.width ? 1 : -1));\n\n  //визначаємо потрібний розмір\n  const cardWidth = () => {\n    if (windowInnerWidth >= 1280) return 395;\n    if (windowInnerWidth >= 768) return 353;\n    return 288;\n  };\n\n  //шукаємо об'єкт з потрібною картинкою\n  let objImageGoodSize = multimediaObj.find(item => item.width > cardWidth());\n\n  //повертаємо\n  return objImageGoodSize;\n}\n","// MStartsev/\n\n//  => .response || .results => itemCard\n\n// id; //string => 'uri'\n// category; //string => \"section\"\n// title; //string =>\n// abstract; //string =>\n// imageUrl; //string =>\n// imageAlt; //string =>\n// section; //string =>\n// url; //string =>\n\n// isFavorite; //boolean => 'false' || localStorage FAVORITE*\n// isRead; //boolean => 'false' || localStorage FAVORITE*\nimport sprite from '../../fonts/images/icons.svg';\n\nexport function card(data, containerClass) {\n  const {\n    id,\n    category,\n    title,\n    abstract,\n    imageUrl,\n    imageAlt,\n    date,\n    url,\n    isFavorite = false,\n    isRead = false,\n  } = data;\n\n  const dateRepl = /((\\d){4})-((\\d){2})-((\\d){2})(\\S)*/g;\n  const renderDate = date.replace(dateRepl, '$5/$3/$1');\n\n  return createCardElement(containerClass);\n\n  function createCardElement(containerClass = 'list') {\n    const alReadyReadText =\n      containerClass === 'read' //прописати class ul для стор. Read\n        ? 'Have read'\n        : `Already read \n        <svg width=\"18\" height=\"18\">\n          <use href=\"${sprite}#icon-read\"></use>\n        </svg>`;\n\n    const alReadyReadFalse = isRead => (!isRead ? `card__already--false` : '');\n\n    const alReadyRead = `<span class='card__already ${alReadyReadFalse(\n      isRead\n    )}'>${alReadyReadText}</span>`;\n\n    const isFavoriteFalse = isFavorite =>\n      isFavorite ? `class='favorite__text--false'` : '';\n\n    const addToFavorite = `<button type='button' class='card__favorite'>\n\n      <span ${isFavoriteFalse(isFavorite)}>Add to favorite\n        <svg  width=\"16\" heigth=\"16\">\n          <use href=\"${sprite}#icon-like-nonactive\"></use>\n        </svg>\n      </span>\n\n      <span ${isFavoriteFalse(!isFavorite)}>Remove from favorite\n        <svg width=\"16\" height=\"16\" class=\"box__icon remove-icon\">\n          <use href=\"${sprite}#icon-like-active\"></use>\n        </svg>\n      </span>\n\n    </button>`;\n\n    return `\n    <li id=${id} class='${containerClass}__card card'>\n\n      <div class='card__container'>\n        <img class='card__img' src=\"${imageUrl}\" \n          alt=\"${imageAlt ?? abstract}\">\n        <span class='card__category'>${category}</span>\n        ${alReadyRead}\n        ${addToFavorite}\n      </div>\n\n      <h2 class='card__title'>${title}</h2>\n      <p class='card__abstract'>${abstract}</p>\n      <span class='card__date'>${renderDate}</span>\n      <a class='card__read' href=\"${url}\" target=\"_blank\">Read more</a>\n\n    </li>`;\n  }\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"cdK6d\")).toString();","import { objNormalize } from '../obj-normalize/index';\nimport { card } from '../card/index';\n\nimport CardsApiService from '../cards-service';\nconst newsElement = document.querySelectorAll('.list__card');\nconst cardsApiService = new CardsApiService();\n\nconst cardList = document.querySelector('.card__list');\nconst pagList = document.querySelector('.pagination__list');\n\nconst PAGE_SIZE = 9;\nlet currentPage = 1;\n\ncardsApiService.fetchMostPopular().then(data => {\n  const news = objNormalize(data);\n  const newsArr = news.map(item => card(item));\n  const pageCount = Math.ceil(news.length / PAGE_SIZE);\n  generateCards(currentPage, newsArr);\n  generatePagination(pageCount);\n});\n\npagList.addEventListener('click', handlePaginationClick);\n\nfunction generateCards(page, news) {\n  cardList.innerHTML = '';\n  const startIndex = (page - 1) * PAGE_SIZE;\n  const endIndex = Math.min(startIndex + PAGE_SIZE, news.length);\n\n  for (let i = startIndex; i < endIndex; i++) {\n    const dataCard = news[i];\n    // if (!dataCard) {\n    //   continue;\n    // }\n    // const dataCardHtml = card(dataCard);\n    cardList.insertAdjacentHTML('beforeend', dataCard);\n  }\n}\n\nfunction generatePagination(pageCount) {\n  pagList.innerHTML = '';\n\n  for (let i = 1; i <= pageCount; i++) {\n    const isActive = i === currentPage ? 'pagination__page--current' : '';\n    const paginationItem = `\n      <li>\n        <a href=\"#\" class=\"pagination__page ${isActive}\" data-page=\"${i}\">${i}</a>\n      </li>\n    `;\n    pagList.insertAdjacentHTML('beforeend', paginationItem);\n  }\n}\n\nfunction handlePaginationClick(e) {\n  e.preventDefault();\n  const { target } = e;\n  if (target.classList.contains('pagination__page')) {\n    currentPage = Number(target.dataset.page);\n    cardsApiService.fetchMostPopular().then(data => {\n      const news = objNormalize(data);\n      const newsArr = news.map(item => card(item));\n      generateCards(currentPage, newsArr);\n      generatePagination(Math.ceil(news.length / PAGE_SIZE));\n    });\n  }\n}\n\nconst nextButton = document.querySelector('.pag-btn__right');\nconst prevButton = document.querySelector('.pag-btn__left');\n\nnextButton.addEventListener('click', () => {\n  currentPage++;\n  cardsApiService.fetchMostPopular().then(data => {\n    const news = objNormalize(data);\n    const newsArr = news.map(item => card(item));\n    const pageCount = Math.ceil(news.length / PAGE_SIZE);\n    if (currentPage <= pageCount) {\n      generateCards(currentPage, newsArr);\n      generatePagination(pageCount);\n    }\n  });\n});\n\nprevButton.addEventListener('click', () => {\n  if (currentPage > 1) {\n    currentPage--;\n    cardsApiService.fetchMostPopular().then(data => {\n      const news = objNormalize(data);\n      const newsArr = news.map(item => card(item));\n      generateCards(currentPage, newsArr);\n      generatePagination(Math.ceil(news.length / PAGE_SIZE));\n    });\n  }\n});\n","export default class CardsApiService {\n  constructor() {\n    this.searchQuery = '';\n  }\n\n  fetchCards(searchQuery) {\n    try {\n      return fetch(\n        `https://api.nytimes.com/svc/search/v2/articlesearch.json?q=${this.searchQuery}&api-key=dWr4kZ2eThN3qFyvwxS66Oz0pgO5uwGr`\n      )\n        .then(response => response.json())\n        .then(responseAfterJson => responseAfterJson);\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  fetchMostPopular() {\n    try {\n      return fetch(\n        `https://api.nytimes.com/svc/mostpopular/v2/viewed/1.json?api-key=dWr4kZ2eThN3qFyvwxS66Oz0pgO5uwGr`\n      )\n        .then(response => response.json())\n        .then(responseAfterJson => responseAfterJson);\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n}\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$0f25a362fb42fab3$var$refs","themeSwitcherEl","document","querySelector","bodyEl","themeContainerEl","logoEl","headerLinksEl","querySelectorAll","headerInputEl","headerInputIconEl","switcherLightEl","switcherDarkEl","switchTextlightEl","switchTextDarktEl","$0f25a362fb42fab3$var$themeKey","addEventListener","classList","toggle","forEach","linkEl","localStorage","setItem","contains","getItem","checked","add","$65136e012e05e2d7$export$41cc3209078156b2","$65136e012e05e2d7$export$88e6117d2414d03d","$f2b37c882cc80f12$var$refs","listRef","buttonRef","$f2b37c882cc80f12$var$listRef","$f2b37c882cc80f12$var$buttonRef","$5e657113472e618d$exports","URL","resolve","url","toString","$835226dcf36860a7$var$baseUrl","$835226dcf36860a7$var$windowInnerWidth","documentElement","clientWidth","$835226dcf36860a7$var$date","Date","$835226dcf36860a7$var$dateNews","getDate","getMonth","getFullYear","$835226dcf36860a7$var$uriRepl","$835226dcf36860a7$export$6f4445cfb11abe05","data","objList","results","response","docs","err","console","log","map","objItem","dataCard","uri","replace","date","published_date","pub_date","category","section","section_name","title","headline","main","abstract","media","objImage","$835226dcf36860a7$var$searchObjImageForCard","test","imageUrl","multimedia","imageAlt","caption","$parcel$interopDefault","web_url","isFavorite","isRead","$835226dcf36860a7$var$objCardNormalize","multimediaObj","sort","a","b","width","find","item","$3b1f7eb7e0ccd5ad$export$aa3e815946b80764","containerClass","renderDate","alReadyReadText","$595e68c753516eff$exports","alReadyRead","alReadyReadFalse","isFavoriteFalse","addToFavorite","createCardElement","$3befe2cdb278325b$var$cardsApiService","fetchCards","searchQuery","fetch","this","then","json","responseAfterJson","error","fetchMostPopular","query","newQuery","constructor","$3befe2cdb278325b$var$cardList","$3befe2cdb278325b$var$pagList","$3befe2cdb278325b$var$PAGE_SIZE","$3befe2cdb278325b$var$currentPage","$3befe2cdb278325b$var$generateCards","page","news","innerHTML","startIndex","endIndex","Math","min","insertAdjacentHTML","$3befe2cdb278325b$var$generatePagination","pageCount","paginationItem","newsArr","ceil","e","preventDefault","target","Number","dataset","$3befe2cdb278325b$var$nextButton","$3befe2cdb278325b$var$prevButton"],"version":3,"file":"favorite.d164f92e.js.map"}